{% extends "layout.html" %}

{% block title %}
    Rooms Overview
{% endblock %}

{% block content %}
<div class="container">
    <h1 class="page-title">Rooms Overview</h1>

    <!-- Create New Room Button -->
    <div style="display: flex; justify-content: center; margin-bottom: 2rem;">
        <a href="{{ url_for('start_swiping') }}" class="create-room-btn">Create New Room</a>
    </div>

    <!-- Active Rooms Table -->
    <section>
        <h2 class="table-title">Active Rooms</h2>
        <table class="rooms-table">
            <thead>
                <tr>
                    <th>Status</th>
                    <th>Link</th>
                    <th>Location</th>
                    <th>Winning Restaurant</th>
                </tr>
            </thead>
            <tbody>
                {% for room in active_rooms %}
                <tr>
                    <td>{{ room.RoomStatus }}</td>
                    <td><a href="{{ room.Link }}" class="view-room-link" target="_blank">View Room</a></td>
                    <td>{{ room.Location }}</td>
                    <td>
                        {% if room.WinningRestaurantName %}
                        <a href="{{ room.WinningRestaurantURL }}" target="_blank">{{ room.WinningRestaurantName }}</a>
                        {% else %}
                        N/A
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </section>
</div>
{% endblock %}